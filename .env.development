# ==========================================
# Development Environment Configuration
# ==========================================
# 本地开发环境配置文件
# 使用方法：NODE_ENV=development 时自动加载此文件

# ==========================================
# Application Configuration
# ==========================================
NODE_ENV=development
PORT=3000

# ==========================================
# Database Configuration (Local Docker)
# ==========================================
# PostgreSQL 连接字符串 - 使用本地 Docker 容器
# 格式：postgresql://用户名:密码@主机:端口/数据库名?schema=public
DATABASE_URL="postgresql://mongolian:elife@localhost:5432/elife-db?schema=public"

# ==========================================
# Redis Configuration (Local Docker)
# ==========================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# ==========================================
# Rate Limiting (限流配置)
# ==========================================
# TTL：时间窗口（秒）
THROTTLE_TTL=60
# LIMIT：在时间窗口内允许的最大请求数
THROTTLE_LIMIT=10

# ==========================================
# Unitel API Configuration (Unitel 运营商 API)
# ==========================================
# 开发环境测试凭证（非真实凭证）
UNITEL_USERNAME=dev_test_user
UNITEL_PASSWORD=dev_test_password
UNITEL_BASE_URL=https://api.unitel.mn/api/v1

# ==========================================
# WeChat Official Account (微信公众号)
# ==========================================
# 开发环境测试凭证（可使用微信测试号）
# 申请测试号：https://mp.weixin.qq.com/debug/cgi-bin/sandbox?t=sandbox/login
WECHAT_APPID=wx_dev_test_appid_replace_me
WECHAT_SECRET=dev_test_secret_32chars_replace

# ==========================================
# WeChat Pay JSAPI (微信支付)
# ==========================================
# 开发环境测试配置（使用沙箱或测试商户号）
WECHAT_PAY_MCHID=1234567890
# 商户证书序列号
WECHAT_PAY_SERIAL_NO=DEV_TEST_SERIAL_NO_REPLACE_ME_WITH_REAL_ONE
# 商户私钥（Base64编码，用于签名API请求）
# 开发环境使用测试私钥
WECHAT_PAY_PRIVATE_KEY=LS0tLS1CRUdJTiBQUklWQVRFIEtFWS0tLS0tCk1JSUV2Z0lCQURBTkJna3Foa2lHOXcwQkFRRUZBQVNDQktnd2dnU2tBZ0VBQW9JQkFRREV4VGRVQ0RFVlNUCmRldl90ZXN0X2tleV9mb3JfZGV2ZWxvcG1lbnRfb25seV9ub3RfZm9yX3Byb2R1Y3Rpb24KLS0tLS1FTkQgUFJJVkFURSBLRVktLS0tLQo=
# APIv3密钥（必须正好32个字符）
WECHAT_PAY_APIV3_KEY=dev_test_key_32_characters_long
# 微信支付平台证书公钥（Base64编码，用于验证回调签名）
WECHAT_PAY_PLATFORM_CERT=LS0tLS1CRUdJTiBQVUJMSUMgS0VZLS0tLS0KTUlJQklqQU5CZ2txaGtpRzl3MEJBUUVGQUFPQ0FROEFNSUlCQ2dLQ0FRRUF4TVUzVkFneEZVawpkZXZfdGVzdF9wdWJsaWNfa2V5X2Zvcl9kZXZlbG9wbWVudF9vbmx5Ci0tLS0tRU5EIFBVQkxJQyBLRVktLS0tLQo=
# 微信支付回调地址（开发环境使用 localhost 或 ngrok）
WECHAT_PAY_NOTIFY_URL=http://localhost:3000/api/payment/wechat/notify
WECHAT_PAY_REFUND_NOTIFY_URL=http://localhost:3000/api/payment/wechat/refund-notify

# ==========================================
# JWT Authentication (JWT 认证)
# ==========================================
# 密钥长度必须至少 32 个字符
# 开发环境使用固定密钥，生产环境必须更换为强随机密钥
JWT_SECRET=dev-super-secret-jwt-key-for-development-environment-32chars
# Token 有效期（例如：7d = 7天，24h = 24小时）
JWT_EXPIRES_IN=7d

# ==========================================
# Logging Configuration (日志配置)
# ==========================================
# 日志级别: fatal | error | warn | info | debug | trace
# 开发环境使用 debug 以便查看详细日志和调试信息
LOG_LEVEL=debug
# 开发环境美化日志输出，便于阅读
LOG_PRETTY=true

# ==========================================
# 开发环境说明
# ==========================================
# 1. 本地 Docker 服务：
#    - 启动命令: docker-compose up -d
#    - 停止命令: docker-compose down
#
# 2. 数据库迁移：
#    - 运行迁移: npm run prisma:migrate:dev
#    - 查看数据库: npm run prisma:studio
#
# 3. 第三方服务测试凭证：
#    - Unitel: 使用测试凭证，API 调用可能失败
#    - 微信公众号: 可申请测试号进行开发
#    - 微信支付: 使用沙箱环境或联系管理员获取测试商户号
#
# 4. 启动应用：
#    - 开发模式: npm run start:dev
#    - 调试模式: npm run start:debug
